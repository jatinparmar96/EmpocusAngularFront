<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <div class="col-lg-12 pl-0">
                    <p class="text-left" style="text-transform: capitalize !important;font-weight: 400;font-size: 1.5rem;">Bill of Material</p>
                </div>
            </div>
            <div class="card-body">
                <div class="card-block">
                    <div class="row">
                        <div class="col-lg-12">
                            <form [formGroup]="form" (ngSubmit)="submit()">
                                <mat-horizontal-stepper>
                                    <mat-step *ngFor="let step of steps; let index = index; let last = last;">
                                        <ng-template matStepLabel>{{ step.label }}</ng-template>
                                        <formly-form [form]="form.at(index)" [model]="model" [fields]="step.fields" [options]="options[index]">
                                        </formly-form>

                                        <div>
                                            <button *ngIf="index !== 0" matStepperPrevious class="btn btn-raised btn-primary" type="button" (click)="prevStep(index)">Back</button>
                                            <button *ngIf="!last" matStepperNext class="btn btn-primary btn-raised" type="button" [disabled]="!form.at(index).valid" (click)="nextStep(index)">Next</button>
                                            <button *ngIf="last" class="btn btn-primary btn-raised" [disabled]="!form.valid" type="submit">Submit</button>
                                        </div>
                                    </mat-step>
                                </mat-horizontal-stepper>
                            </form>
                        </div>
                    </div>
                    <!-- <button (click)="toPrevious()" [disabled]=isProcessing class="btn btn-raised btn-primary">Previous</button>
                    <button (click)="toNext()" [disabled]=isProcessing class="btn btn-raised btn-primary ml-2">Next</button> -->
                </div>
            </div>
        </div>
    </div>
</div>